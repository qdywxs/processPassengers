<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>前端一万小时-processPassengers</title>
</head>
<body>
	<p>请打开控制台，查看 console 打印信息！</p>

	<script>
		var passengers = [ {name: "Oli",paid: true},
	                   {name: "Aman",paid: false},
	                   {name: "Laden",paid: true},
	                   {name: "Jobs",paid: true} ];

		function checkNoFlyList(passenger) {
		  return (passenger.name === "Laden");
		}

		function checkNotPaid(passenger) {
		  return (!passenger.paid);
		}

		function printPassenger(passenger) {
		  var message = passenger.name;
		  if(passenger.paid === true) {
		    message = message + " has paid";
		  }else {
		    message = message + " has not paid";
		  }
		  console.log(message);
		  return false;
		}

		function processPassengers(passangers, testFunction) {
		  for (var i = 0;i < passengers.length;i++) {
		    if(testFunction(passengers[i])) {
		      return false;
		    }
		  }
		  return true;
		}	

		var allCanFly = processPassengers(passengers,checkNoFlyList);
		
		if(!allCanFly) {
		  console.log("The plane can't take off: we have a passenger on the no-fly-list.");
		}


		var allPaid = processPassengers(passengers,checkNotPaid);
		
		if(!allPaid) {
		  console.log("The plane can't take off: not everyone has paid.");
		}

		processPassengers(passengers,printPassenger);
	</script>
</body>
</html>